:root {
    --bg-dark: #0f0c29;
    --bg-gradient: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
    --primary: #ff007f; /* Hot Pink */
    --secondary: #7b2cbf; /* Deep Purple */
    --text: #ffffff;
    --glass: rgba(255, 255, 255, 0.05);
    --glass-border: rgba(255, 255, 255, 0.1);
    --shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
}

* { box-sizing: border-box; outline: none; -webkit-tap-highlight-color: transparent; }

body {
    margin: 0;
    height: 100vh;
    font-family: 'Inter', sans-serif;
    background: var(--bg-gradient);
    color: var(--text);
    overflow: hidden; /* Prevent body scroll, handle in containers */
    display: flex;
    justify-content: center;
    align-items: center;
}

/* Background Blobs for Atmosphere */
.bg-blobs { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; pointer-events: none; }
.blob { position: absolute; border-radius: 50%; filter: blur(80px); opacity: 0.4; }
.blob-1 { width: 300px; height: 300px; background: var(--primary); top: -50px; left: -50px; animation: float 10s infinite alternate; }
.blob-2 { width: 400px; height: 400px; background: var(--secondary); bottom: -100px; right: -100px; animation: float 15s infinite alternate-reverse; }

@keyframes float { from { transform: translate(0,0); } to { transform: translate(50px, 50px); } }

/* Layout */
.app-layout {
    display: flex;
    width: 95%;
    max-width: 1200px;
    height: 90vh;
    gap: 20px;
}

/* Glass Panels */
.glass-panel {
    background: var(--glass);
    backdrop-filter: blur(12px);
    border: 1px solid var(--glass-border);
    border-radius: 20px;
    box-shadow: var(--shadow);
    display: flex;
    flex-direction: column;
    padding: 20px;
}

/* --- PLAYER SECTION --- */
.player-section { flex: 1.5; align-items: center; justify-content: space-between; position: relative; }

.header h3 { font-family: 'Montserrat'; font-size: 14px; margin: 0; color: rgba(255,255,255,0.7); }
.pulse { color: var(--primary); animation: beat 1.5s infinite; }
@keyframes beat { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.2); } }

/* Disc Animation */
.disc-wrapper {
    width: 260px; height: 260px;
    border-radius: 50%;
    background: #111;
    border: 2px solid rgba(255,255,255,0.1);
    box-shadow: 0 0 30px rgba(0,0,0,0.5);
    display: flex; justify-content: center; align-items: center;
    position: relative;
}

.vinyl-record {
    width: 100%; height: 100%;
    border-radius: 50%;
    background: repeating-radial-gradient(#111 0, #111 2px, #222 3px, #222 4px);
    display: flex; justify-content: center; align-items: center;
    animation: spin 8s linear infinite;
}
.vinyl-record.paused { animation-play-state: paused; }

.vinyl-center {
    width: 90px; height: 90px;
    border-radius: 50%;
    background-color: var(--primary);
    background-size: cover;
    background-position: center;
    border: 4px solid #fff;
    position: absolute;
}

@keyframes spin { 100% { transform: rotate(360deg); } }

.track-info { text-align: center; width: 100%; margin-top: 10px; }
#current-song-title {
    font-family: 'Montserrat'; font-size: 1.2rem;
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
    margin: 0; text-shadow: 0 0 10px rgba(255, 0, 127, 0.5);
}

/* Controls */
.progress-container { width: 100%; display: flex; align-items: center; gap: 10px; font-size: 12px; color: #aaa; }
input[type=range] {
    flex: 1; height: 4px; border-radius: 2px;
    background: rgba(255,255,255,0.2); appearance: none; cursor: pointer;
}
input[type=range]::-webkit-slider-thumb {
    appearance: none; width: 12px; height: 12px; background: var(--primary); border-radius: 50%;
}

.controls { display: flex; align-items: center; gap: 20px; margin: 15px 0; }
.btn-icon { background: none; border: none; color: #fff; font-size: 1.2rem; cursor: pointer; transition: 0.2s; }
.btn-icon:hover { color: var(--primary); }

.btn-play {
    width: 60px; height: 60px; border-radius: 50%;
    background: linear-gradient(135deg, var(--primary), var(--secondary));
    border: none; color: white; font-size: 1.5rem;
    box-shadow: 0 0 20px rgba(255, 0, 127, 0.4);
    cursor: pointer; transition: transform 0.2s;
    display: flex; justify-content: center; align-items: center;
}
.btn-play:active { transform: scale(0.95); }

.volume-control { display: flex; align-items: center; gap: 10px; font-size: 12px; width: 50%; }

/* --- SIDEBAR --- */
.sidebar { flex: 1; overflow: hidden; min-width: 300px; }

.search-box { display: flex; gap: 10px; margin-bottom: 15px; }
.search-box input {
    flex: 1; background: rgba(0,0,0,0.3); border: 1px solid var(--glass-border);
    padding: 10px 15px; border-radius: 10px; color: white;
}
.search-box button {
    background: var(--secondary); border: none; color: white;
    width: 40px; border-radius: 10px; cursor: pointer;
}

.tabs { display: flex; gap: 10px; margin-bottom: 10px; }
.tab-btn {
    flex: 1; padding: 8px; background: transparent; border: none;
    color: #aaa; cursor: pointer; border-bottom: 2px solid transparent;
}
.tab-btn.active { color: white; border-bottom: 2px solid var(--primary); }

.scroll-list { flex: 1; overflow-y: auto; display: none; }
.scroll-list.active { display: block; }

/* List Items */
.song-item {
    display: flex; align-items: center; gap: 10px; padding: 10px;
    background: rgba(255,255,255,0.05); border-radius: 10px;
    margin-bottom: 8px; cursor: pointer; transition: 0.2s;
}
.song-item:hover { background: rgba(255,255,255,0.1); }
.thumb { width: 40px; height: 40px; border-radius: 5px; object-fit: cover; }
.info { flex: 1; overflow: hidden; }
.info h4 { margin: 0; font-size: 13px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.action-btn { color: #aaa; background: none; border: none; cursor: pointer; }
.action-btn:hover { color: var(--primary); }

.queue-actions { margin-top: 10px; display: flex; justify-content: space-between; align-items: center; font-size: 12px; color: #888; }
.btn-small { background: rgba(255,0,0,0.2); border: none; color: #ff9999; padding: 5px 10px; border-radius: 5px; cursor: pointer; }

/* Overlay */
.overlay {
    position: absolute; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,0.85); backdrop-filter: blur(8px);
    z-index: 100; display: none; justify-content: center; align-items: center;
}
.overlay.active { display: flex; }
.glass-modal {
    background: #1a1a2e; padding: 30px; border-radius: 20px;
    border: 1px solid var(--primary); text-align: center;
    box-shadow: 0 0 50px rgba(255, 0, 127, 0.2);
}
#sharedSkipButton {
    margin-top: 15px; padding: 10px 20px; border-radius: 30px;
    background: var(--primary); border: none; color: white;
    font-weight: bold; cursor: pointer; font-family: 'Montserrat';
}

/* Mobile Responsive */
@media (max-width: 850px) {
    .app-layout { flex-direction: column; height: 100vh; width: 100%; padding: 10px; }
    .player-section { flex: none; height: 60%; }
    .sidebar { flex: 1; height: 40%; }
    .disc-wrapper { width: 180px; height: 180px; }
}
